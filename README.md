# Транспорт поверх локальной сети

## Функциональность

- Транспорту передается на вход его публичный и приватный ключ. Публичный ключ по сути является адресом
- Сообщение содержит строку data и номер seq
- Позволяет отправить сообщение по адресу (публичному ключу)
- Позволяет получить все сообщения от отправителя, имеющие seq больше заданного

## Устройство

- Транспорт периодически делает UDP Broadcast сообщения, содержащего его публичный ключ
- Транспорт слушает UDP, для каждого публичного ключа хранит все IP, с которых приходило сообщение с этим ключом, и
  время последнего такого сообщения
- Транспорт поднимает сервер, который имеет одну ручку delivery_message. Эта ручка позволяет доставить сообщение данному
  транспорту
- Для отправки сообщения транспорт берет все ip адреса публичного ключа получателя, с которых в течение
  последней минуты приходили udp сообщения с соответствующим ключом. Для каждого такого IP дергается ручка
  delivery_message
- Все сообщения подписываются отправителем и шифруются публичным ключом получателя с помощью RSA и AES
- Есть 2 способа использовать транспорт:
    - Подключить как библиотеку и использовать класс Transport
    - Поднять локальный сервер и использовать его ручки get_messages и send_message

## Возможное развитие

Кажется, можно заставить работать не только в локальной сети. Для этого достаточно делать обнаружение IP других
устройств не через UDP broadcast, а через внешний сервер, который для каждого публичного ключа будет хранить его
IP адреса. Транспорты периодически будут отправлять запросы на этот сервер, чтобы обновить ip-адреса своего публичного ключа. И
будет ручка, позволяющая получить ip адреса по публичному ключу.